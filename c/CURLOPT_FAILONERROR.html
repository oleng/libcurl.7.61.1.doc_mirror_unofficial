<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD> <TITLE>CURLOPT_FAILONERROR</TITLE>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<link rel="stylesheet" type="text/css" href="../css/curl.css">
<link rel="shortcut icon" href="../../favicon.ico">
<link rel="icon" href="curl-symbol.svg" type="image/svg+xml">
<link rel="STYLESHEET" type="text/css" href="../css/manpage.css">
</HEAD>
<body bgcolor="#ffffff" text="#000000">
<div class="main">
<div class="menu">
<a href="libcurl.html" class="menuitem" title="Overview">Overview</a>
<a href="libcurl-tutorial.html" class="menuitem" title="Tutorial">Tutorial</a>
<a href="libcurl-errors.html" class="menuitem" title="Error Codes">Errors</a>
<a href="libcurl-env.html" class="menuitem" title="Environment variables ">Environment</a>
<a href="example.html" class="menuitem" title="libcurl C source code examples ">Examples</a>
<a href="symbols-in-versions.html" class="menuitem" title="In which versions were which symbols introduced">Symbols</a>
<a href="allfuncs.html" class="menuitem" title="List of all libcurl functions">Index</a>
<a href="libcurl-easy.html" class="menuitem" title="Easy interface tutorial">Easy Interface</a>
<a href="libcurl-multi.html" class="menuitem" title="Multi Interface tutorial">Multi Interface</a>
<a href="libcurl-share.html" class="menuitem" title="Share Interface Tutorial">Share Interface</a>
</div>
<div class="contents">
<div class="where"><a href="https://curl.haxx.se/">curl</a> / <a href="../index.html">libcurl</a> / <a href="index.html">API</a> / <a href="curl_easy_setopt.html">curl_easy_setopt</a> / <b>CURLOPT_FAILONERROR</b></div>
<h1> CURLOPT_FAILONERROR explained </h1>
<div class="relatedbox">
<b>Related:</b>
<br><a href="easy_setopt_options.html">easy options</a>
<br><a href="easy_getinfo_options.html">getinfo options</a>
<br><a href="multi_setopt_options.html">multi options</a>
<br><a href="index.html">API</a>
</div>
<!-- generated with roffit -->
<p class="level0"><a name="NAME"></a><h2 class="nroffsh">NAME</h2>
<p class="level0">CURLOPT_FAILONERROR - request failure on HTTP response &gt;= 400 <a name="SYNOPSIS"></a><h2 class="nroffsh">SYNOPSIS</h2>
<p class="level0">&#35;include &lt;curl/curl.h&gt;
<p class="level0">CURLcode curl_easy_setopt(CURL *handle, CURLOPT_FAILONERROR, long fail); <a name="DESCRIPTION"></a><h2 class="nroffsh">DESCRIPTION</h2>
<p class="level0">A long parameter set to 1 tells the library to fail the request if the HTTP code returned is equal to or larger than 400. The default action would be to return the page normally, ignoring that code.
<p class="level0">This method is not fail-safe and there are occasions where non-successful response codes will slip through, especially when authentication is involved (response codes 401 and 407).
<p class="level0">You might get some amounts of headers transferred before this situation is detected, like when a "100-continue" is received as a response to a POST/PUT and a 401 or 407 is received immediately afterwards.
<p class="level0">When this option is used and an error is detected, it will cause the connection to get closed and <span Class="emphasis"><a href="libcurl-errors.html#CURLEHTTPRETURNEDERROR">CURLE_HTTP_RETURNED_ERROR</a></span> is returned. <a name="DEFAULT"></a><h2 class="nroffsh">DEFAULT</h2>
<p class="level0">0, do not fail on error <a name="PROTOCOLS"></a><h2 class="nroffsh">PROTOCOLS</h2>
<p class="level0">HTTP <a name="EXAMPLE"></a><h2 class="nroffsh">EXAMPLE</h2>
<p class="level0"><pre class="level0">
CURL *curl = curl_easy_init();
if(curl) {
&nbsp; CURLcode ret;
&nbsp; curl_easy_setopt(curl, CURLOPT_URL, "https://example.com/");
&nbsp; curl_easy_setopt(curl, CURLOPT_FAILONERROR, 1L);
&nbsp; ret = curl_easy_perform(curl);
&nbsp; if(ret == <a href="libcurl-errors.html#CURLEHTTPRETURNEDERROR">CURLE_HTTP_RETURNED_ERROR</a>) {
&nbsp;   /* an HTTP response error problem */
&nbsp; }
}
</pre>
<p class="level0"><a name="AVAILABILITY"></a><h2 class="nroffsh">AVAILABILITY</h2>
<p class="level0">Along with HTTP. <a name="RETURN"></a><h2 class="nroffsh">RETURN VALUE</h2>
<p class="level0">Returns <a href="libcurl-errors.html#CURLEOK">CURLE_OK</a> if HTTP is enabled, and <a href="libcurl-errors.html#CURLEUNKNOWNOPTION">CURLE_UNKNOWN_OPTION</a> if not. <a name="SEE"></a><h2 class="nroffsh">SEE ALSO</h2>
<p class="level0"><a Class="manpage" href="CURLOPT_HTTP200ALIASES.html">CURLOPT_HTTP200ALIASES</a>, <a Class="manpage" href="CURLOPT_KEEP_SENDING_ON_ERROR.html">CURLOPT_KEEP_SENDING_ON_ERROR</a><p class="roffit">
 This HTML page was made with <a href="http://daniel.haxx.se/projects/roffit/">roffit</a>.
</div>
</div>

</BODY>
</HTML>
