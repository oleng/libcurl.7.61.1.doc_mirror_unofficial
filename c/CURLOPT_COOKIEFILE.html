<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD> <TITLE>CURLOPT_COOKIEFILE</TITLE>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<link rel="stylesheet" type="text/css" href="../../curl.css">
<link rel="shortcut icon" href="../../favicon.ico">
<link rel="icon" href="https://curl.haxx.se/logo/curl-symbol.svg" type="image/svg+xml">
<link rel="STYLESHEET" type="text/css" href="../../manpage.css">
</HEAD>
<body bgcolor="#ffffff" text="#000000">
<div class="main">
<div class="menu">
<a href="libcurl.html" class="menuitem" title="Overview">Overview</a>
<a href="libcurl-tutorial.html" class="menuitem" title="Tutorial">Tutorial</a>
<a href="libcurl-errors.html" class="menuitem" title="Error Codes">Errors</a>
<a href="libcurl-env.html" class="menuitem" title="Environment variables ">Environment</a>
<a href="example.html" class="menuitem" title="libcurl C source code examples ">Examples</a>
<a href="symbols-in-versions.html" class="menuitem" title="In which versions were which symbols introduced">Symbols</a>
<a href="allfuncs.html" class="menuitem" title="List of all libcurl functions">Index</a>
<a href="libcurl-easy.html" class="menuitem" title="Easy interface tutorial">Easy Interface</a>
<a href="libcurl-multi.html" class="menuitem" title="Multi Interface tutorial">Multi Interface</a>
<a href="libcurl-share.html" class="menuitem" title="Share Interface Tutorial">Share Interface</a>
</div>
<div class="contents">
<div class="where"><a href="https://curl.haxx.se/">curl</a> / <a href="../index.html">libcurl</a> / <a href="index.html">API</a> / <a href="curl_easy_setopt.html">curl_easy_setopt</a> / <b>CURLOPT_COOKIEFILE</b></div>
<h1> CURLOPT_COOKIEFILE explained </h1>
<div class="relatedbox">
<b>Related:</b>
<br><a href="easy_setopt_options.html">easy options</a>
<br><a href="easy_getinfo_options.html">getinfo options</a>
<br><a href="multi_setopt_options.html">multi options</a>
<br><a href="index.html">API</a>
</div>
<!-- generated with roffit -->
<p class="level0"><a name="NAME"></a><h2 class="nroffsh">NAME</h2>
<p class="level0">CURLOPT_COOKIEFILE - file name to read cookies from <a name="SYNOPSIS"></a><h2 class="nroffsh">SYNOPSIS</h2>
<p class="level0">&#35;include &lt;curl/curl.h&gt;
<p class="level0">CURLcode curl_easy_setopt(CURL *handle, CURLOPT_COOKIEFILE, char *filename); <a name="DESCRIPTION"></a><h2 class="nroffsh">DESCRIPTION</h2>
<p class="level0">Pass a pointer to a zero terminated string as parameter. It should point to the file name of your file holding cookie data to read. The cookie data can be in either the old Netscape / Mozilla cookie data format or just regular HTTP headers (Set-Cookie style) dumped to a file.
<p class="level0">It also enables the cookie engine, making libcurl parse and send cookies on subsequent requests with this handle.
<p class="level0">Given an empty or non-existing file or by passing the empty string ("") to this option, you can enable the cookie engine without reading any initial cookies. If you tell libcurl the file name is "-" (just a single minus sign), libcurl will instead read from stdin.
<p class="level0">This option only <span Class="bold">reads</span> cookies. To make libcurl write cookies to file, see <a Class="emphasis" href="CURLOPT_COOKIEJAR.html">CURLOPT_COOKIEJAR</a>.
<p class="level0">Exercise caution if you are using this option and multiple transfers may occur. If you use the Set-Cookie format and don't specify a domain then the cookie is sent for any domain (even after redirects are followed) and cannot be modified by a server-set cookie. If a server sets a cookie of the same name then both will be sent on a future transfer to that server, likely not what you intended. To address these issues set a domain in Set-Cookie (doing that will include sub-domains) or use the Netscape format.
<p class="level0">If you use this option multiple times, you just add more files to read. Subsequent files will add more cookies.
<p class="level0">The application does not have to keep the string around after setting this option. <a name="DEFAULT"></a><h2 class="nroffsh">DEFAULT</h2>
<p class="level0">NULL <a name="PROTOCOLS"></a><h2 class="nroffsh">PROTOCOLS</h2>
<p class="level0">HTTP <a name="EXAMPLE"></a><h2 class="nroffsh">EXAMPLE</h2>
<p class="level0"><pre class="level0">
CURL *curl = curl_easy_init();
if(curl) {
&nbsp; curl_easy_setopt(curl, CURLOPT_URL, "http://example.com/foo.bin");
&nbsp;
&nbsp; /* get cookies from an existing file */
&nbsp; curl_easy_setopt(curl, CURLOPT_COOKIEFILE, "/tmp/cookies.txt");
&nbsp;
&nbsp; ret = curl_easy_perform(curl);
&nbsp;
&nbsp; curl_easy_cleanup(curl);
}
</pre>
<p class="level0"><a name="AVAILABILITY"></a><h2 class="nroffsh">AVAILABILITY</h2>
<p class="level0">As long as HTTP is supported <a name="RETURN"></a><h2 class="nroffsh">RETURN VALUE</h2>
<p class="level0">Returns <a href="libcurl-errors.html#CURLEOK">CURLE_OK</a> if HTTP is supported, and <a href="libcurl-errors.html#CURLEUNKNOWNOPTION">CURLE_UNKNOWN_OPTION</a> if not. <a name="SEE"></a><h2 class="nroffsh">SEE ALSO</h2>
<p class="level0"><a Class="manpage" href="CURLOPT_COOKIE.html">CURLOPT_COOKIE</a>, <a Class="manpage" href="CURLOPT_COOKIEJAR.html">CURLOPT_COOKIEJAR</a><p class="roffit">
 This HTML page was made with <a href="http://daniel.haxx.se/projects/roffit/">roffit</a>.
</div>
</div>

</BODY>
</HTML>
