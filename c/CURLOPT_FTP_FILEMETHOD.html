<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD> <TITLE>CURLOPT_FTP_FILEMETHOD</TITLE>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<link rel="stylesheet" type="text/css" href="../css/curl.css">
<link rel="shortcut icon" href="../../favicon.ico">
<link rel="icon" href="curl-symbol.svg" type="image/svg+xml">
<link rel="STYLESHEET" type="text/css" href="../css/manpage.css">
</HEAD>
<body bgcolor="#ffffff" text="#000000">
<div class="main">
<div class="menu">
<a href="libcurl.html" class="menuitem" title="Overview">Overview</a>
<a href="libcurl-tutorial.html" class="menuitem" title="Tutorial">Tutorial</a>
<a href="libcurl-errors.html" class="menuitem" title="Error Codes">Errors</a>
<a href="libcurl-env.html" class="menuitem" title="Environment variables ">Environment</a>
<a href="example.html" class="menuitem" title="libcurl C source code examples ">Examples</a>
<a href="symbols-in-versions.html" class="menuitem" title="In which versions were which symbols introduced">Symbols</a>
<a href="allfuncs.html" class="menuitem" title="List of all libcurl functions">Index</a>
<a href="libcurl-easy.html" class="menuitem" title="Easy interface tutorial">Easy Interface</a>
<a href="libcurl-multi.html" class="menuitem" title="Multi Interface tutorial">Multi Interface</a>
<a href="libcurl-share.html" class="menuitem" title="Share Interface Tutorial">Share Interface</a>
</div>
<div class="contents">
<div class="where"><a href="https://curl.haxx.se/">curl</a> / <a href="../index.html">libcurl</a> / <a href="index.html">API</a> / <a href="curl_easy_setopt.html">curl_easy_setopt</a> / <b>CURLOPT_FTP_FILEMETHOD</b></div>
<h1> CURLOPT_FTP_FILEMETHOD explained </h1>
<div class="relatedbox">
<b>Related:</b>
<br><a href="easy_setopt_options.html">easy options</a>
<br><a href="easy_getinfo_options.html">getinfo options</a>
<br><a href="multi_setopt_options.html">multi options</a>
<br><a href="index.html">API</a>
</div>
<!-- generated with roffit -->
<p class="level0"><a name="NAME"></a><h2 class="nroffsh">NAME</h2>
<p class="level0">CURLOPT_FTP_FILEMETHOD - select directory traversing method for FTP <a name="SYNOPSIS"></a><h2 class="nroffsh">SYNOPSIS</h2>
<p class="level0"><pre class="level0">
&#35;include &lt;curl/curl.h&gt;
&nbsp;
CURLcode curl_easy_setopt(CURL *handle, CURLOPT_FTP_FILEMETHOD,
&nbsp;                         long method);
</pre>
<a name="DESCRIPTION"></a><h2 class="nroffsh">DESCRIPTION</h2>
<p class="level0">Pass a long telling libcurl which <span Class="emphasis">method</span> to use to reach a file on a FTP(S) server.
<p class="level0">This option exists because some server implementations aren't compliant to what the standards say should work.
<p class="level0">The argument should be one of the following alternatives:
<p class="level0"><a name="CURLFTPMETHODMULTICWD"></a><span class="nroffip">CURLFTPMETHOD_MULTICWD</span>
<p class="level1">libcurl does a single CWD operation for each path part in the given URL. For deep hierarchies this means many commands. This is how <a href="http://www.ietf.org/rfc/rfc1738.txt">RFC 1738</a> says it should be done. This is the default but the slowest behavior.
<p class="level0"><a name="CURLFTPMETHODNOCWD"></a><span class="nroffip">CURLFTPMETHOD_NOCWD</span>
<p class="level1">libcurl does no CWD at all. libcurl will do SIZE, RETR, STOR etc and give a full path to the server for all these commands. This is the fastest behavior.
<p class="level0"><a name="CURLFTPMETHODSINGLECWD"></a><span class="nroffip">CURLFTPMETHOD_SINGLECWD</span>
<p class="level1">libcurl does one CWD with the full target directory and then operates on the file "normally" (like in the multicwd case). This is somewhat more standards compliant than 'nocwd' but without the full penalty of 'multicwd'. <a name="DEFAULT"></a><h2 class="nroffsh">DEFAULT</h2>
<p class="level0">CURLFTPMETHOD_MULTICWD <a name="PROTOCOLS"></a><h2 class="nroffsh">PROTOCOLS</h2>
<p class="level0">FTP <a name="EXAMPLE"></a><h2 class="nroffsh">EXAMPLE</h2>
<p class="level0"><pre class="level0">
CURL *curl = curl_easy_init();
if(curl) {
&nbsp; curl_easy_setopt(curl, CURLOPT_URL, "ftp://example.com/1/2/3/4/new.txt");
&nbsp; curl_easy_setopt(curl, CURLOPT_FTP_FILEMETHOD,
&nbsp;                        CURLFTPMETHOD_SINGLECWD);
&nbsp;
&nbsp; ret = curl_easy_perform(curl);
&nbsp;
&nbsp; curl_easy_cleanup(curl);
}
</pre>
<p class="level0"><a name="AVAILABILITY"></a><h2 class="nroffsh">AVAILABILITY</h2>
<p class="level0">Added in 7.15.1 <a name="RETURN"></a><h2 class="nroffsh">RETURN VALUE</h2>
<p class="level0">Returns <a href="libcurl-errors.html#CURLEOK">CURLE_OK</a> if the option is supported, and <a href="libcurl-errors.html#CURLEUNKNOWNOPTION">CURLE_UNKNOWN_OPTION</a> if not. <a name="SEE"></a><h2 class="nroffsh">SEE ALSO</h2>
<p class="level0"><a Class="manpage" href="CURLOPT_DIRLISTONLY.html">CURLOPT_DIRLISTONLY</a>, <a Class="manpage" href="CURLOPT_FTP_SKIP_PASV_IP.html">CURLOPT_FTP_SKIP_PASV_IP</a><p class="roffit">
 This HTML page was made with <a href="http://daniel.haxx.se/projects/roffit/">roffit</a>.
</div>
</div>

</BODY>
</HTML>
