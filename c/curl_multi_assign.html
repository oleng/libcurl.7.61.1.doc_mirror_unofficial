<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD> <TITLE>curl_multi_assign</TITLE>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<link rel="stylesheet" type="text/css" href="../css/curl.css">
<link rel="shortcut icon" href="../../favicon.ico">
<link rel="icon" href="curl-symbol.svg" type="image/svg+xml">
<link rel="STYLESHEET" type="text/css" href="../css/manpage.css">
</HEAD>
<body bgcolor="#ffffff" text="#000000">
<div class="main">
<div class="menu">
<a href="libcurl.html" class="menuitem" title="Overview">Overview</a>
<a href="libcurl-tutorial.html" class="menuitem" title="Tutorial">Tutorial</a>
<a href="libcurl-errors.html" class="menuitem" title="Error Codes">Errors</a>
<a href="libcurl-env.html" class="menuitem" title="Environment variables ">Environment</a>
<a href="example.html" class="menuitem" title="libcurl C source code examples ">Examples</a>
<a href="symbols-in-versions.html" class="menuitem" title="In which versions were which symbols introduced">Symbols</a>
<a href="allfuncs.html" class="menuitem" title="List of all libcurl functions">Index</a>
<a href="libcurl-easy.html" class="menuitem" title="Easy interface tutorial">Easy Interface</a>
<a href="libcurl-multi.html" class="menuitem" title="Multi Interface tutorial">Multi Interface</a>
<a href="libcurl-share.html" class="menuitem" title="Share Interface Tutorial">Share Interface</a>
</div>
<div class="contents">
<div class="where"><a href="https://curl.haxx.se/">curl</a> / <a href="../index.html">libcurl</a> / <a href="index.html">API</a> / <b>libcurl</b></div>
<h1> curl_multi_assign - set association with an internal socket </h1>
<!-- generated with roffit -->
<p class="level0"><a name="NAME"></a><h2 class="nroffsh">NAME</h2>
<p class="level0">curl_multi_assign - set data to associate with an internal socket <a name="SYNOPSIS"></a><h2 class="nroffsh">SYNOPSIS</h2>
<p class="level0">&#35;include &lt;curl/curl.h&gt;
<p class="level0">CURLMcode curl_multi_assign(CURLM *multi_handle, curl_socket_t sockfd, &nbsp;                           void *sockptr); <a name="DESCRIPTION"></a><h2 class="nroffsh">DESCRIPTION</h2>
<p class="level0">This function creates an association in the multi handle between the given socket and a private pointer of the application. This is designed for <a Class="emphasis" href="curl_multi_socket_action.html">curl_multi_socket_action</a> uses.
<p class="level0">When set, the <span Class="emphasis">sockptr</span> pointer will be passed to all future socket callbacks for the specific <span Class="emphasis">sockfd</span> socket.
<p class="level0">If the given <span Class="emphasis">sockfd</span> isn't already in use by libcurl, this function will return an error.
<p class="level0">libcurl only keeps one single pointer associated with a socket, so calling this function several times for the same socket will make the last set pointer get used.
<p class="level0">The idea here being that this association (socket to private pointer) is something that just about every application that uses this API will need and then libcurl can just as well do it since it already has an internal hash table lookup for this. <a name="RETURN"></a><h2 class="nroffsh">RETURN VALUE</h2>
<p class="level0">The standard CURLMcode for multi interface error codes. <a name="TYPICAL"></a><h2 class="nroffsh">TYPICAL USAGE</h2>
<p class="level0">In a typical application you allocate a struct or at least use some kind of semi-dynamic data for each socket that we must wait for action on when using the <a Class="emphasis" href="curl_multi_socket_action.html">curl_multi_socket_action</a> approach.
<p class="level0">When our socket-callback gets called by libcurl and we get to know about yet another socket to wait for, we can use <a Class="emphasis" href="curl_multi_assign.html">curl_multi_assign</a> to point out the particular data so that when we get updates about this same socket again, we don't have to find the struct associated with this socket by ourselves. <a name="AVAILABILITY"></a><h2 class="nroffsh">AVAILABILITY</h2>
<p class="level0">This function was added in libcurl 7.15.5. <a name="SEE"></a><h2 class="nroffsh">SEE ALSO</h2>
<p class="level0"><a Class="manpage" href="curl_multi_setopt.html">curl_multi_setopt</a>, <a Class="manpage" href="curl_multi_socket_action.html">curl_multi_socket_action</a><p class="roffit">
 This HTML page was made with <a href="http://daniel.haxx.se/projects/roffit/">roffit</a>.
</div>
</div>

</BODY>
</HTML>
