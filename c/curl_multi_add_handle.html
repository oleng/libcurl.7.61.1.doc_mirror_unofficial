<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD> <TITLE>curl_multi_add_handle</TITLE>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<link rel="stylesheet" type="text/css" href="../../curl.css">
<link rel="shortcut icon" href="../../favicon.ico">
<link rel="icon" href="https://curl.haxx.se/logo/curl-symbol.svg" type="image/svg+xml">
<link rel="STYLESHEET" type="text/css" href="../../manpage.css">
</HEAD>
<body bgcolor="#ffffff" text="#000000">
<div class="main">
<div class="menu">
<a href="libcurl.html" class="menuitem" title="Overview">Overview</a>
<a href="libcurl-tutorial.html" class="menuitem" title="Tutorial">Tutorial</a>
<a href="libcurl-errors.html" class="menuitem" title="Error Codes">Errors</a>
<a href="libcurl-env.html" class="menuitem" title="Environment variables ">Environment</a>
<a href="example.html" class="menuitem" title="libcurl C source code examples ">Examples</a>
<a href="symbols-in-versions.html" class="menuitem" title="In which versions were which symbols introduced">Symbols</a>
<a href="allfuncs.html" class="menuitem" title="List of all libcurl functions">Index</a>
<a href="libcurl-easy.html" class="menuitem" title="Easy interface tutorial">Easy Interface</a>
<a href="libcurl-multi.html" class="menuitem" title="Multi Interface tutorial">Multi Interface</a>
<a href="libcurl-share.html" class="menuitem" title="Share Interface Tutorial">Share Interface</a>
</div>
<div class="contents">
<div class="where"><a href="https://curl.haxx.se/">curl</a> / <a href="../index.html">libcurl</a> / <a href="index.html">API</a> / <b>libcurl</b></div>
<h1> curl_multi_add_handle - add an easy handle to a multi session </h1>
<!-- generated with roffit -->
<p class="level0"><a name="NAME"></a><h2 class="nroffsh">NAME</h2>
<p class="level0">curl_multi_add_handle - add an easy handle to a multi session <a name="SYNOPSIS"></a><h2 class="nroffsh">SYNOPSIS</h2>
<p class="level0">&#35;include &lt;curl/curl.h&gt;
<p class="level0">CURLMcode curl_multi_add_handle(CURLM *multi_handle, CURL *easy_handle);
<p class="level0"><a name="DESCRIPTION"></a><h2 class="nroffsh">DESCRIPTION</h2>
<p class="level0">Adds a standard easy handle to the multi stack. This function call will make this <span Class="emphasis">multi_handle</span> control the specified <span Class="emphasis">easy_handle</span>.
<p class="level0">While an easy handle is added to a multi stack, you cannot and you must not use <a Class="emphasis" href="curl_easy_perform.html">curl_easy_perform</a> on that handle. After having removed the easy handle from the multi stack again, it is perfectly fine to use it with the easy interface again.
<p class="level0">If the easy handle is not set to use a shared (<a Class="emphasis" href="CURLOPT_SHARE.html">CURLOPT_SHARE</a>) or global DNS cache (<a Class="emphasis" href="CURLOPT_DNS_USE_GLOBAL_CACHE.html">CURLOPT_DNS_USE_GLOBAL_CACHE</a>), it will be made to use the DNS cache that is shared between all easy handles within the multi handle when <a Class="emphasis" href="curl_multi_add_handle.html">curl_multi_add_handle</a> is called.
<p class="level0">When an easy interface is added to a multi handle, it will use a shared connection cache owned by the multi handle. Removing and adding new easy handles will not affect the pool of connections or the ability to do connection re-use.
<p class="level0">If you have <a Class="emphasis" href="CURLMOPT_TIMERFUNCTION.html">CURLMOPT_TIMERFUNCTION</a> set in the multi handle (and you really should if you're working event-based with <a Class="emphasis" href="curl_multi_socket_action.html">curl_multi_socket_action</a> and friends), that callback will be called from within this function to ask for an updated timer so that your main event loop will get the activity on this handle to get started.
<p class="level0">The easy handle will remain added to the multi handle until you remove it again with <a Class="emphasis" href="curl_multi_remove_handle.html">curl_multi_remove_handle</a> - even when a transfer with that specific easy handle is completed.
<p class="level0">You should remove the easy handle from the multi stack before you terminate first the easy handle and then the multi handle:
<p class="level0">1 - <a Class="emphasis" href="curl_multi_remove_handle.html">curl_multi_remove_handle</a>
<p class="level0">2 - <a Class="emphasis" href="curl_easy_cleanup.html">curl_easy_cleanup</a>
<p class="level0">3 - <a Class="emphasis" href="curl_multi_cleanup.html">curl_multi_cleanup</a> <a name="RETURN"></a><h2 class="nroffsh">RETURN VALUE</h2>
<p class="level0">CURLMcode type, general libcurl multi interface error code. <a name="SEE"></a><h2 class="nroffsh">SEE ALSO</h2>
<p class="level0"><a Class="manpage" href="curl_multi_cleanup.html">curl_multi_cleanup</a>, <a Class="manpage" href="curl_multi_init.html">curl_multi_init</a>, <a Class="manpage" href="curl_multi_setopt.html">curl_multi_setopt</a>, <a Class="manpage" href="curl_multi_socket_action.html">curl_multi_socket_action</a><p class="roffit">
 This HTML page was made with <a href="http://daniel.haxx.se/projects/roffit/">roffit</a>.
</div>
</div>

</BODY>
</HTML>
